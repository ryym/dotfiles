#!/bin/sh

source "$DOTPATH/lib/vitalize.sh"

# Disallow duplicate paths in the '$PATH'.
typeset -U PATH

# Go
export PATH="$GOPATH/bin:$PATH"

export PATH="/usr/sbin:/sbin:$PATH"

# Homebrew
export PATH="/usr/local/bin:$PATH"

# Mise
if test -f "$MISE_EXE_PATH"; then
    eval "$($MISE_EXE_PATH activate zsh)"
fi

# Anyenv
if test -d "$ANYENV_PATH"; then
    export PATH="$ANYENV_PATH/bin:$PATH"

    # Source the customize initialization script
    # instead of `eval "$(anyenv init - zsh)"`.
    source "$HOME/.config/anyenv/init.sh"
fi

# Local executables
export PATH="$HOME/local/bin:$PATH"

# Colorize man pages using bat.
if command -v bat > /dev/null 2>&1; then
    export MANPAGER='bat -l man --style=plain'
fi

# Open a man page in Neovim.
# Tips: you can view the outline of the page by gO.
manv() {
    MANPAGER='nvim +Man!' man "$@"
}

export EDITOR=nvim

# Prevent Homebrew from updating everything when installing a library.
HOMEBREW_NO_AUTO_UPDATE=1

# Rust
test -f $HOME/.cargo/env && source $HOME/.cargo/env

# Deno
export PATH="$HOME/.deno/bin:$PATH"
