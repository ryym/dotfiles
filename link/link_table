#!/usr/bin/env bash

source "$DOTPATH/lib/vitalize.sh"

# The files to be linked.
LINKS=(
    'ruby/gemrc:.gemrc'
    'ruby/pryrc:.pryrc'
    'shell/bashrc:.bashrc'
    'shell/profile:.profile'
    'shell/zshrc:.zshrc'
    'shell/zshenv:.zshenv'
    'git/gitconfig:.gitconfig'
    'vim:.vim'
    'vim:.config/nvim'
    'tridactylrc:.tridactylrc'
    'tridactylrc.js:.tridactylrc.js'
    'tmux/tmux.conf:.tmux.conf'
    'tmux:.tmux'
    'ctags:.ctags'
    'prettierrc.json:.prettierrc'
    'alacritty/alacritty.toml:.config/alacritty/alacritty.toml'
    'mise/config.toml:.config/mise/config.toml'
    'bat/config:.config/bat/config'
    'ghostty/config:.config/ghostty/config'
    'lazygit/config.yml':'.config/lazygit/config.yml'
    'lesskey':'.config/lesskey'
    'claude/CLAUDE.md':'.claude/CLAUDE.md'
    'claude/settings.json':'.claude/settings.json'
    'claude/statusline.sh':'.claude/statusline.sh'
)

case $(ostype) in
    arch)
        LINKS+=(
            'arch/sway-config:.config/sway/config'
            'arch/fcitx5.service:.config/systemd/user/fcitx5.service'
            'arch/wob.service:.config/systemd/user/wob.service'
            'arch/sway-session.target:.config/systemd/user/sway-session.target'
            'arch/chromium-flags.conf:.config/chromium-flags.conf'
            'arch/rofi-config.rasi:.config/rofi/config.rasi'
            'arch/foot.ini:.config/foot/foot.ini'
            'fcitx5/config:.config/fcitx5/config'
            'shell/zkbd/linux-pc-linux-gnu:.zkbd/linux-pc-linux-gnu'
            'xremap/xremap.yml:.config/xremap.yml'
            'xremap/xremap.service:.config/systemd/user/xremap.service'
            '!sudo:xremap/xremap-udev.rules:/etc/udev/rules.d/99-xremap-udev.rules'
        )
        ;;
    cachyos)
        LINKS+=(
            'fontconfig/cjk-fallback.conf:.config/fontconfig/conf.d/99-cjk-fallback.conf'
            'xremap/xremap.yml:.config/xremap.yml'
            'xremap/xremap.service:.config/systemd/user/xremap.service'
            '!sudo:xremap/xremap-udev.rules:/etc/udev/rules.d/99-xremap-udev.rules'
        )
        ;;
    fedora)
        LINKS+=(
            'fontconfig/cjk-fallback.conf:.config/fontconfig/conf.d/99-cjk-fallback.conf'
            'gnome/lock-screen.desktop:.local/share/applications/lock-screen.desktop'
            'xremap/xremap.yml:.config/xremap.yml'
            'xremap/xremap.service:.config/systemd/user/xremap.service'
            '!sudo:xremap/xremap-udev.rules:/etc/udev/rules.d/99-xremap-udev.rules'
        );
esac
